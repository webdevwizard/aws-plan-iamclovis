!function(e){var t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=0)}({0:function(e,t,s){s("F1kH"),s("KqWi"),s("TBUl"),s("ku99"),s("IlfZ"),s("4EgR"),s("ZLme"),s("7Noz"),s("C/br"),s("yzbg"),s("NWu9"),s("tD/s"),s("flFB"),s("0wdf"),s("VqY+"),e.exports=s("1bK1")},"0wdf":function(e,t){},"1bK1":function(e,t){},"4EgR":function(e,t){},"7Noz":function(e,t){},"C/br":function(e,t){},F1kH:function(e,t){var s={},n=window.location.pathname.replace("/results/","");function a(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function i(e,t){var a="";"action-update-data"===e?(s.code=window.location.search.replace("?email=",""),a="/clients/updateData"):a="/clients/saveData",$.ajax({type:"post",context:this,dataType:"json",url:a,data:{action:e,data:t},beforeSend:function(e){},success:function(t){"action-update-data"!==e&&(n=t.client.code,window.manychatEnabled&&(window.location="/results/"+n)),"action-update-data"===e&&($("body").hasClass("page-email2")?window.location="/checkout2/"+s.code:window.location="/checkout/"+s.code)}})}function o(){var e=setInterval(function(){20===s&&$(".e-progress-status-inner").css("transform","translate(0)");40===s&&$(".e-progress-status-inner").css("transform","translate(-20%)");60===s&&$(".e-progress-status-inner").css("transform","translate(-40%)");80===s&&$(".e-progress-status-inner").css("transform","translate(-60%)");100==s?(clearInterval(e),$(".c-loadingslide .e-title").text("Complete!"),$(".c-questionslide").fadeOut(function(){n.length>0?(window.clientCode=n,window.manychatEnabled?$(".manychat-block").addClass("active").fadeIn():$("body").hasClass("page-questioner-v3")?window.location="/results3/"+n:window.location="/results/"+n):swal({type:"error",title:"Oops...",text:"Error. Please repeat test."})})):(s+=t,$(".b-progress .e-piechart").attr("data-value",s),$(".b-progress .e-piechart .e-number").text(s))},40),t=1,s=0;$(".c-loadingslide .b-top .e-title").text("Loading..."),$(".b-header").hide()}function r(){$(".b-header").hide(),$(".e-overlay").hide(),$(".c-introslide").css("background","#ffffff");var e=$(".b-progress "),t=e.find(".e-progressbar").width();e.find(".e-progressbar .e-progressbar--mesure").stop().css("width",0).animate({width:t},{duration:4e3,progress:function(t,s,n){e.find(".e-progress-status-new p").hide(),Math.round(100*s)>0&&Math.round(100*s)<25&&e.find(".e-progress-status-new p:nth-child(1)").show(),Math.round(100*s)>25&&Math.round(100*s)<50&&e.find(".e-progress-status-new p:nth-child(2)").show(),Math.round(100*s)>50&&Math.round(100*s)<75&&e.find(".e-progress-status-new p:nth-child(3)").show(),Math.round(100*s)>75&&Math.round(100*s)<100&&e.find(".e-progress-status-new p:nth-child(4)").show(),100==Math.round(100*s)&&e.find(".e-progress-status-new p:nth-child(5)").show(),$(this).closest(".e-progressbar").find(".e-progressbar--percentage").text(Math.round(100*s)+" %")}}).promise().done(function(){$(".manychat-block").addClass("active").fadeIn(),$(".c-loadingslide-v2").addClass("progress"),window.answers=s})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),window.mcAsyncInit=function(){MC.getWidget(6424906).on("checked",function(e){window.fbChecked=e.checked}),MC.getWidget(6424906).on("submitted",function(e){e.checked&&(window.fbRef=e.userRef,window.answers.manychat_ref=window.fbRef),i("action-save-questions",window.answers)})},$(".manychat-block button").click(function(){window.fbChecked?MC.getWidget(6424906).submit():i("action-save-questions",window.answers),$(this).html("Processing..")}),$(document).ready(function(){if($('.e-termsconditions input[type="checkbox"]').click(function(){$(".e-termsconditions .error-msg").hide()}),$(".cc-submit").click(function(){$(this).html("Processing..");var e=!0;$("#cc-form input.req").each(function(){$(this).val().length<2?($(this).addClass("has-error"),e=!1):$(this).removeClass("has-error")}),$("#card-year").val().length>2||0==$("#card-year").val().length?($("#card-year").addClass("has-error"),e=!1):$("#card-year").removeClass("has-error"),$("#card-month").val().length>2||0==$("#card-month").val().length?($("#card-month").addClass("has-error"),e=!1):$("#card-month").removeClass("has-error"),$("#card-cvv").val().length>4||0==$("#card-cvv").val().length?($("#card-cvv").addClass("has-error"),e=!1):$("#card-cvv").removeClass("has-error"),e?jQuery.post("/order/prepare",{payment_method:"credit_card",test:window.testPrice,code:window.clientCode},function(e){$("#cc-order").val(e.order_id),$("#cc-form").submit()}):$(this).html("Submit")}),window.braintree&&setupBraintree(),$(".story.content .scroll-btn").click(function(){$([document.documentElement,document.body]).animate({scrollTop:$("#gender-options").offset().top},1e3)}),$("body").hasClass("page-billing")){!function(e,t){var s,n,a=e;setInterval(function(){s=parseInt(a/60,10),n=parseInt(a%60,10),s=s<10?"0"+s:s,n=n<10?"0"+n:n,t.html(s+":"+n),--a<0&&(a=e)},1e3)}(900,$(".e-timecounter .time"))}$(".expand-link").click(function(e){e.preventDefault();var t=$(this).parent().parent();$(this).hide(),t.find(".hidden-plan-content").fadeIn()}),$(".contract-link").click(function(e){e.preventDefault();var t=$(this).parent().parent().parent();t.find(".hidden-plan-content").hide(),t.find(".expand-link").fadeIn()}),$(".btn-paywithcard, .btn-paywithpaypal").click(function(){alert("payment")}),$(".btn-card").click(function(e){if(!1===$("#terms_and_conditions").is(":checked"))return $(".e-termsconditions .error-msg").fadeIn(),!1;$(".e-termsconditions .error-msg").hide(),window.clientCode=$(this).data("client")}),$(".btn-paypal").click(function(e){if(e.preventDefault(),!1===$("#terms_and_conditions").is(":checked"))return $(".e-termsconditions .error-msg").fadeIn(),!1;$(".e-termsconditions .error-msg").hide(),$(this).html("Processing..");var t=$(this).data("client");$post_url="/order/prepare";var s=[];void 0!==$("#app").attr("data-workoutplan")&&"1"===$("#app").attr("data-workoutplan")&&($post_url="/orderUpsell",s=["mealplan","workouts"]),jQuery.post($post_url,{payment_method:"paypal",test:window.testPrice,workouts:window.workouts,code:t,discount:window.discount,upsells:s},function(e){e.status&&(window.location="/paypal/proccess/"+e.order_id)})}),$(".b-sliders-payment").slick({infinite:!0,slidesToShow:1,centerMode:!0,arrows:!1,speed:2e3,autoplay:!0,padding:50,autoplaySpeed:500,slidesToScroll:1,dots:!1}),$(".c-questionslide .b-form").on("input",function(e){var t=!0;$(this).find(".e-input input").each(function(){$(this).is(":visible")&&$(this).attr("required")&&0===$(this).val().length&&(t=!1)}),t?$(this).closest(".c-questionslide").find(".m-next").addClass("is-active"):$(this).closest(".c-questionslide").find(".m-next").removeClass("is-active")}),$(".e-btn-unitsystem input").click(function(){$(".b-form-unitsystem input[required]").val(""),$(this).closest(".c-questionslide").find(".m-next").removeClass("is-active"),"imperial"===$(this).data("type")?($(".m-metric").hide(),$(".m-imperial").show(),$(".b-form-unitsystem .e-input").each(function(){"m"===$(this).find("label").text().toLowerCase()&&($(this).find("label").text("ft"),$(this).find("input").attr("placeholder","feet*")),"cm"===$(this).find("label").text().toLowerCase()&&($(this).find("label").text("in"),$(this).find("input").attr("placeholder","inches*")),"kg"===$(this).find("label").text().toLowerCase()&&$(this).find("label").text("lb")})):($(".m-metric").show(),$(".m-imperial").hide(),$(".b-form-unitsystem .e-input").each(function(){"in"===$(this).find("label").text().toLowerCase()&&($(this).find("label").text("cm"),$(this).find("input").attr("placeholder","centimeters")),"lb"===$(this).find("label").text().toLowerCase()&&$(this).find("label").text("kg"),"ft"===$(this).find("label").text().toLowerCase()&&($(this).find("label").text("m"),$(this).find("input").attr("placeholder","meters"))}))});var e=$(".c-progress-bar:visible").width()/$(".c-questionslide").length,t=e,l=1;function d(s){"positive"===s?t+=e:t-=e,$(".c-progress-bar--process").width(t)}$(".c-questionslide .e-nr").each(function(e){$(this).text(e+1+"/"+($(".c-questionslide").length-1))}),$(".e-btn.m-next").click(function(){if(!$(this).hasClass("is-active"))return!1;var e=!1,t=$(this).closest(".c-questionslide"),a=(t.data("nr"),$(this).data("value")),c=t.data("question").toLowerCase();if(void 0===a&&(a=$(this).text()),void 0===c&&(c=t.find(".e-title").text()),a=[],$(this).hasClass("skip-allowed")?(e=!0,c="testimonials",a=["seen"]):t.find(".m-questioner").each(function(){var t=$(this).data("value");void 0===$(this).data("value")&&(t=$(this).val().toLowerCase()),void 0===t&&(t=$(this).text().toLowerCase()),($(this).is(":checked")||$(this).hasClass("is-active"))&&(e=!0,a.push(t)),$(this).attr("required")&&0===$(this).val().length&&(e=!1),$(this).attr("required")&&0!==$(this).val().length&&(e=!0),0!==$(this).val().length&&"radio"!==$(this).attr("type")&&(s[$(this).attr("name").toLowerCase()]=t)}),!1===e)return t.find(".b-questions").addClass("is-shaking"),t.find(".b-form").addClass("is-shaking"),setTimeout(function(){t.find(".b-questions").removeClass("is-shaking")},400),!1;s[$.trim(c)]=a,"last"===t.next().data("position")&&($(".page-questioner .b-intro--inner").css("background","none"),$(".c-progress-bar").fadeOut(),s.gender=window.location.search.replace("?gender=",""),window.manychatEnabled||i("action-save-questions",s),window.answers=s,setTimeout(function(){var e,t,s;window.manychatEnabled?r():$("body").hasClass("page-questioner-v2")?(e=setInterval(function(){var a=$(".c-progress-bar--horizontal .c-progress-bar--inner");$(".c-progress-bar--horizontal .e-number").html("<span>"+s+"</span><span>%</span>"),0===s&&$(".e-progress-status-inner").css("transform","translate(10%)"),20===s&&$(".e-progress-status-inner").css("transform","translate(-10%)"),40===s&&$(".e-progress-status-inner").css("transform","translate(-20%)"),60===s&&$(".e-progress-status-inner").css("transform","translate(-40%)"),80===s&&$(".e-progress-status-inner").css("transform","translate(-60%)"),100==s?(clearInterval(e),$(".c-loadingslide .b-top .e-title").text("Complete!"),$(".c-questionslide").fadeOut(function(){n.length>0?$("body").hasClass("page-questioner-v3")?window.location="/results3/"+n:window.location="/results/"+n:swal({type:"error",title:"Oops...",text:"Error. Please repeat test."})})):(s+=t,a.css("width",s+"%"))},40),t=1,s=0):o()},500)),$("body").hasClass("page-email")||$(t).fadeOut(300,function(){$(".e-btn--arrow").addClass("url-pasive"),d("positive"),l+=1,$(".e-slidenr").text(l+"/"+$(".c-questionslide").length),t.next().fadeIn(300),t.next().hasClass("testimonial-slide")&&$(".b-slides").slick({dots:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0,arrows:!1}}]}),window.scrollTo(0,0)})}),$(".c-questionslide .b-questions .e-btn").click(function(){$(".b-questions .e-btn").removeClass("is-active"),$(this).addClass("is-active"),$(this).hasClass("m-multiple")||function(e){var t=!1,n=(e.data("nr"),e.data("question").toLowerCase());void 0===n&&(n=e.find(".e-title").text());var a=[];if(e.find(".m-questioner").each(function(){var e=$(this).data("value");void 0===$(this).data("value")&&(e=$(this).val().toLowerCase()),void 0===e&&(e=$(this).text().toLowerCase()),($(this).is(":checked")||$(this).hasClass("is-active"))&&(t=!0,a.push(e)),$(this).attr("required")&&0===$(this).val().length&&(t=!1),$(this).attr("required")&&0!==$(this).val().length&&(t=!0),0!==$(this).val().length&&"radio"!==$(this).attr("type")&&(s[$(this).attr("name").toLowerCase()]=e)}),!1===t)return e.find(".b-questions").addClass("is-shaking"),e.find(".b-form").addClass("is-shaking"),setTimeout(function(){e.find(".b-questions").removeClass("is-shaking")},400),!1;s[$.trim(n)]=a,"last"===e.next().data("position")&&($(".page-questioner .b-intro--inner").css("background","none"),$(".c-progress-bar").fadeOut(),s.gender=window.location.search.replace("?gender=",""),window.answers=s,setTimeout(function(){window.manychatEnabled?r():(i("action-save-questions",s),o())},500));$("body").hasClass("page-email")||$(e).fadeOut(300,function(){$(".e-btn--arrow").addClass("url-pasive"),d("positive"),l+=1,$(".e-slidenr").text(l+"/"+$(".c-questionslide").length),e.next().fadeIn(300),e.next().hasClass("testimonial-slide")&&$(".b-slides").slick({dots:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0,arrows:!1}}]}),window.scrollTo(0,0)})}($(this).closest(".c-questionslide")),$(this).closest(".c-questionslide").find(".m-next").addClass("is-active")}),$(".btn-action-emailpage").click(function(){$(".page-results").addClass("is-oposite"),window.location.hash="#emailInput",$(".page-summary").fadeOut(function(){$(".page-email").fadeIn(),window.scrollTo(0,0)})}),$(".btn-action-billingpage").click(function(){$(".page-results").removeClass("is-oposite");var e=$('.page-email input[type="email"]');if(!a(e.val()))return e.addClass("is-shaking"),setTimeout(function(){e.removeClass("is-shaking")},300),!1;s.email=e.val(),i("action-update-data",s),$(this).text("Loading...").addClass("m-disabled"),$(this).closest()}),$(".e-previewplan").click(function(e){event.preventDefault(e),$(".b-popup.m-yourplan").fadeIn()}),$(".e-reviewplan").click(function(e){event.preventDefault(e),$(".b-popup.m-reviews").fadeIn()}),$(".b-popup").click(function(){$(".b-popup").fadeOut()}),$(".b-popup .b-popup-inner-wrapper, .b-popup .e-btn").click(function(){event.stopPropagation()}),$(".btn-action-scroll").click(function(){$([document.documentElement,document.body]).animate({scrollTop:$(".c-maincontent").offset().top},1e3)}),$("body").hasClass("page-questioner")&&$(".e-btn--arrow").click(function(e){if($(this).hasClass("url-pasive")){e.preventDefault();var t=$(".c-questionslide:visible");t.prev().hasClass("m-first")?$(".e-btn--arrow").removeClass("url-pasive"):$(".e-btn--arrow").addClass("url-pasive"),$(".c-questionslide:visible").fadeOut(function(){t.prev().fadeIn(),d()})}}),$(".b-dietplan .b-dietplan-nav a").click(function(e){e.preventDefault();var t=$(this).closest(".b-nav-link").data("type");$(this).closest(".b-nav-link").hasClass("is-active")||($(".b-dietplan .b-nav-link").removeClass("is-active"),$(this).closest(".b-nav-link").addClass("is-active"),$(".b-dietplan .b-dietplan-content").fadeOut().promise().done(function(){$(".b-dietplan-content").removeClass("is-active"),$('.b-dietplan .b-dietplan-content[data-type="'+t+'"]').fadeIn()}))}),$(".b-planrecovery .m-planlookup").click(function(){var e=$(this),t=$(this).closest(".b-planrecovery").find(".e-input input:required");if(!a(t.val()))return t.addClass("is-shaking"),setTimeout(function(){t.removeClass("is-shaking")},400),!1;e.html("Processing").addClass("m-loading"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"post",context:this,dataType:"json",url:"/plan/lookup",data:{email:t.val()},beforeSend:function(e){},success:function(t){setTimeout(function(){t.status?(1==t.planGenerated&&$(".plan-status").html("<strong>Status:</strong> Good news! We have found your profile and your plan is ready. We've just emailed the link to your plan to "+$(".email").val()+". If you do not receive it within the next 5 minutes or the link doesn't work - contact us at hello@dofasting.com").fadeIn(),0==t.planGenerated&&$(".plan-status").html("<strong>Status:</strong> We've found your profile, but your plan is not yet ready. Our nutritionis are reviewing it. It takes up to 2 hours after order confirmation. As soon as your Fasting meal plan is ready - we'll email it to you.").fadeIn(),t.planGenerated<0&&$(".plan-status").html("<strong>Status:</strong> We've found your profile, but your plan is not ready. Some problems occured during the plan preparation (it might be due to incorrect data provided during signup). Sorry for the inconvenience. Please contact us at hello@dofasting.com").fadeIn()):t.clientFound?$(".plan-status").html("<strong>Status:</strong> We've found your profile, but it seems your payment didn't go through. To finish your signup - <a href='"+t.billing+"' target='_blank'>click here</a>. If you've been charged, please send your payment receipt to hello@dofasting.com and we will look into it as soon as possible.").fadeIn():$(".plan-status").html("<strong>Status:</strong> Unfortunately, we couldn't find your profile. Make sure it's the same email you used during the signup. If you think the email is correct - please contact us at hello@dofasting.com").fadeIn(),e.html("Lookup my plan").removeClass("m-loading")},1500)}})}),window.locked&&$("#locked-modal").modal({backdrop:"static",keyboard:!1}),$("#workouts-checkbox").change(function(){if($("#workouts-checkbox").is(":checked")){window.workouts=1;var e=window.basePrice+$(this).parent().parent().data("price_increase"),t=window.oldPrice+$(this).parent().parent().data("old_price");$(".e-price-current .amount").html(e),$(".e-price-old .amount").html(t),$(".final-price span").html("$"+e)}else window.workouts=0,$(".e-price-current .amount").html(window.basePrice),$(".e-price-old .amount").html(window.oldPrice),$(".final-price span").html("$"+window.basePrice)}),$(".e-update-email").click(function(){$(this).hasClass("is-active")?($(this).removeClass("is-active"),$(".b-form.m-update-email").slideUp()):($(this).addClass("is-active"),$(".b-form.m-update-email").slideDown())}),$(".m-update-email .e-btn--emailupdate").click(function(){var e=$(this).closest(".b-form").find('input[type="email"]');if(a(e.val())){e.removeClass("m-error");var t=$(this).data("code");$.ajax({type:"POST",url:"/user/update_email",data:{code:t,email:e.val()},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){var s=JSON.parse(t);"success"===s.message?(e.closest(".b-form").slideUp().removeClass("is-active"),$(".e-useremail").text(s.email_new).addClass("is-success")):alert("Something went wrong")}})}else e.addClass("m-error")}),$("#send-plan-sms-button").click(function(){var e=$(this),t=$(this).closest(".b-form").find('input[name="user-phone"]');if(function(e){return!!(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e)&&e.length>3)}(t.val())){t.removeClass("m-error");var s=$(this).data("code");$(this).addClass("is-disabled"),$.ajax({type:"POST",url:"/user/send_sms",data:{code:s,number:t.val()},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){"success"===JSON.parse(t).message?$(".b-form.m-sendmessage").html("<p class='c-success'>"+e.data("message_success")+"</p>"):alert("Something went wrong"),e.removeClass("is-disabled")}})}else t.addClass("m-error")}),$(".b-coveredin--brands--inner").slick({infinite:!0,slidesToShow:1,centerMode:!0,arrows:!1,speed:2e3,autoplay:!0,padding:100,autoplaySpeed:500,slidesToScroll:1,variableWidth:!0,dots:!1}),$(".btn-scrolltogender").click(function(){$("html, body").animate({scrollTop:$(".b-selectgender").offset().top-400},700)}),$(".btn-scrolltobottom").click(function(){$("html, body").animate({scrollTop:$(".e-actionbar").offset().top-400},700)}),$(".e-extraoption .e-checkbox").click(function(){$(this).closest(".b-price").find(".e-price-current .amount").text();if($(this).is(":checked")){var e=Math.round(4998)/100,t=99.96;$("#app").attr("data-workoutplan",1)}else{e=Math.round(2999)/100,t=59.98;$("#app").attr("data-workoutplan",0)}$(this).closest(".b-price").find(".e-price .amount").text(e),$(this).closest(".b-price").find(".e-price .e-price-old .amount").text(t),$("#cc-modal .final-price span").text(e)})})},IlfZ:function(e,t){},KqWi:function(e,t){},NWu9:function(e,t){},TBUl:function(e,t){},"VqY+":function(e,t){},ZLme:function(e,t){},flFB:function(e,t){},ku99:function(e,t){},"tD/s":function(e,t){},yzbg:function(e,t){}});